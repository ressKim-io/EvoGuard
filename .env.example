# =============================================================================
# EvoGuard (Content Arena) Environment Variables
# =============================================================================
# Copy this file to .env and fill in your values:
#   cp .env.example .env
#
# NEVER commit .env to git!
# =============================================================================

# -----------------------------------------------------------------------------
# Common
# -----------------------------------------------------------------------------
APP_ENV=development          # development | staging | production
LOG_LEVEL=debug              # debug | info | warn | error

# -----------------------------------------------------------------------------
# Go API Service (api-service/)
# -----------------------------------------------------------------------------
API_HOST=0.0.0.0
API_PORT=8080
API_READ_TIMEOUT=30s
API_WRITE_TIMEOUT=30s

# CORS (comma-separated)
API_CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# -----------------------------------------------------------------------------
# Python ML Service (ml-service/)
# -----------------------------------------------------------------------------
ML_HOST=0.0.0.0
ML_PORT=8001
ML_WORKERS=4
ML_MODEL_PATH=./models/defender

# -----------------------------------------------------------------------------
# PostgreSQL
# -----------------------------------------------------------------------------
DB_HOST=localhost
DB_PORT=5432
DB_NAME=evoguard
DB_USER=postgres
DB_PASSWORD=<your-password>
DB_SSLMODE=disable

# Connection Pool
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=5
DB_CONN_MAX_LIFETIME=5m

# -----------------------------------------------------------------------------
# Redis
# -----------------------------------------------------------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Redis Pool
REDIS_POOL_SIZE=10
REDIS_MIN_IDLE_CONNS=5

# -----------------------------------------------------------------------------
# MLflow
# -----------------------------------------------------------------------------
MLFLOW_TRACKING_URI=http://localhost:5000
MLFLOW_EXPERIMENT_NAME=evoguard
MLFLOW_ARTIFACT_ROOT=s3://mlflow/artifacts
MLFLOW_PORT=5000
MLFLOW_DB=mlflow

# -----------------------------------------------------------------------------
# MinIO (S3-compatible storage for MLflow & DVC)
# -----------------------------------------------------------------------------
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin
MINIO_BUCKET=mlflow
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001

# S3 credentials for MLflow/DVC client
AWS_ACCESS_KEY_ID=minioadmin
AWS_SECRET_ACCESS_KEY=minioadmin
MLFLOW_S3_ENDPOINT_URL=http://localhost:9000

# -----------------------------------------------------------------------------
# Ollama (Local LLM for Attacker)
# -----------------------------------------------------------------------------
OLLAMA_HOST=http://localhost:11434
OLLAMA_MODEL=mistral:7b-instruct-q4_K_S

# Generation settings
OLLAMA_NUM_CTX=4096
OLLAMA_TEMPERATURE=0.7

# -----------------------------------------------------------------------------
# Model Training (training/)
# -----------------------------------------------------------------------------
TRAINING_BATCH_SIZE=8
TRAINING_EPOCHS=3
TRAINING_LR=2e-4
TRAINING_LORA_R=16
TRAINING_LORA_ALPHA=32

# Hugging Face (optional, for private models)
HF_TOKEN=<your-huggingface-token>

# -----------------------------------------------------------------------------
# Monitoring
# -----------------------------------------------------------------------------
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000

# -----------------------------------------------------------------------------
# JWT / Auth (if implemented)
# -----------------------------------------------------------------------------
JWT_SECRET=<your-jwt-secret>
JWT_EXPIRY=24h

# -----------------------------------------------------------------------------
# Docker / Kubernetes
# -----------------------------------------------------------------------------
# Docker registry (for CI/CD)
DOCKER_REGISTRY=ghcr.io
DOCKER_IMAGE_PREFIX=your-org/evoguard

# K8s namespace
K8S_NAMESPACE=evoguard
